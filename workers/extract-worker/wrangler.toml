name = "ncbf-extract-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Enable Node.js compatibility for some APIs
node_compat = true

# Build configuration for WASM
[build]
command = "bun run build"

# Cron trigger - runs every minute to process queue
[triggers]
crons = ["* * * * *"]

# Environment variables (secrets should be set via wrangler secret)
[vars]
SUPABASE_STORAGE_BUCKET = "presentations"

# Development overrides
[env.development]
vars = { ENVIRONMENT = "development" }

# Production overrides  
[env.production]
vars = { ENVIRONMENT = "production" }
